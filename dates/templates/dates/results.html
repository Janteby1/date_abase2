{% extends "base.html" %}

{% block content %}
    
    <h3>Date-abase Search Results:</h3>
    {% if dates %}

        {% for date in dates %}
            {% if date.show %}
                <div class="row">
                    <div class="col s12 m11 l11">
                      <div class="card grey lighten-1">
                        <div class="card-content white-text result">
                            <span class="card-title">                
                                <div class="entry" id="link"> <a href="/edit/{{ date.slug }}"> <div> {{ date.place }}</div></a></div>
                            </span>

                <div class="entry" id="area">{{ date.address }}</div>
                <div class="entry" id="website">Contact: {{ date.phone }}</div>

                        </div>
                      </div>
                    </div>
                  </div>

            <div class="row">
                <div class="col s1">
                    <form action="" class='details_button'>
                    <input type="hidden" name= "date_id"value="{{date.id}}">
                    <button class="btn-floating btn-large waves-effect waves-light red" id="details_button" type="submit" name="get_details" value= "Get Details"><i class="material-icons">toc</i></button>
                    </form>
                </div>



                <div class="col s1">
                    <form action="" class='map_button'>
                    <input type="hidden" name= "date_id" value="{{date.id}}">
                    <input type="hidden" name= "address" value="{{ date.address }}">

                    <button class="btn-floating btn-large waves-effect waves-light red" id="map_button" type="submit" name="get_map" value= "Get Details"><i class="material-icons">location_on</i></button>
                    </form>
                </div>
            </div>

                <div class="details_div" id= "{{date.slug}}">
                    <!-- this is where everything from mustache will render -->
                </div>

                <br>
                <div class="map_div" id= "{{date.id}}">
                    <!-- this is where everything from mustache will render -->
                </div>


            {% endif %}
            {% endfor %}
            <br><br>
            <div class="entry"><p id="end">End of Seach Results</p> </div>

    {% else %}
        <p>No Results to your search, try again.</p>
    {% endif %}

    {%include 'dates/detail_ajax.html' %}



    <br>
    <a id="home" href="/"> Back Home </a>

    <div id="search2"><a href="/area"> Search by Area </a></div>

    <div id="search2"><a href="/search"> Search by Catergory</a></div>

    <div id="search2"><a href="/price"> Search by Price</a></div>
    <br><br>

    <div id="dates_slug">{{ date.slug }} </div> 

{% endblock content %}


